# 介绍

用来构建多边形的约束的



# 文件

- spline.cpp, spline.h: 用来做样条插值的库，有bug待修正
- main.cpp: 主文件
- 其他文件: 都没用的



# 代码

## 架构

分成四块

- 将障碍物点划分成若干个集合
- 检查是否能通过
- 计算凸包
- 在凸包上增加两条射线

## 划分障碍物点

两个点之间距离小于safeDist，就放进同一个集合

为了提高效率，用一种类似BFS的方式实现

只有在道路之内的点会纳入统计

## 检查通过

若有一个点集，同时连接左右两条道路的边，那么就无法通过

这个方法等价于割点法，但是无法解决一些special case（需要考虑车辆形状的那些）

## 凸包

用graham实现，排序不使用极角排序，按坐标双关键字排序

## 增加射线

1. 找到凸包上沿道路方向最远的和最近的两个点
2. 对路径做垂线
3. 若这两条垂线会相交于道路外侧，则先让他们平行，然后再加一个offset



# To do

- insideRoad的条件还可以放宽一些
- 射线角度的offset函数还要再调整，保持凸性



